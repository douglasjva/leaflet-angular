!function(){angular.module("leaflet-angular",[])}(),function(){function t(t,n){return{restrict:"E",replace:!0,transclude:!0,scope:{tileLayer:"=",optionsMap:"=",controlOptions:"="},controller:function(){var n=this;deferred=t.defer(),n.getMap=function(){return deferred.promise},n.initMap=function(t){deferred.resolve(t)},n.drawMarker=function(t){n.getMap().then(function(n){n.addLayer(t)})},n.drawPolyline=function(t){n.getMap().then(function(e){e.addLayer(t),n.fitBoundsLayer(t)})},n.fitBoundsLayer=function(t){n.getMap().then(function(n){n.fitBounds(t.getBounds())})}},controllerAs:"leafletMap",template:"<div><div ng-transclude></div></div>",link:function(t,e,o,a){var r=L.latLng(n.center.lat,n.center.lng),l=n.minZoom,i=n.zoom,u=n.zoomControl,c=n.urlTemplate,p=n.options,s={position:n.posControlZoom};t.tileLayer&&t.tileLayer.urlTemplate&&(c=t.tileLayer.urlTemplate,p=t.tileLayer.options);var g=t.optionsMap;g&&g.center&&g.center.lat&&g.center.lng&&(r=L.latLng(g.center.lat,g.center.lng)),g&&g.zoomControl===!0&&(u=!0),g&&g.zoom&&(i=g.zoom),g&&g.minZoom&&(l=g.minZoom),t.controlOptions&&t.controlOptions.position&&(s.position=t.controlOptions.position);var f=new L.Map(e[0],{center:r,zoomControl:u,minZoom:l,zoom:i,layers:[L.tileLayer(c,p)]});L.control.zoom(s).addTo(f),a.initMap(f)}}}angular.module("leaflet-angular").directive("leafletMap",t),t.$inject=["$q","DefaultConstants"]}(),function(){function t(){return{restrict:"E",scope:{latlng:"=",contentPopup:"=",options:"=",events:"="},require:"^leafletMap",link:function(t,n,e,o){function a(n){t.$apply(function(){t.latlng=n})}var r=L.marker([t.latlng.lat,t.latlng.lng],t.options);t.contentPopup&&r.bindPopup(t.contentPopup),t.options.draggable&&(t.events.dragstart&&r.on("dragstart",function(n){a(n.target.getLatLng()),t.events.dragstart(n)}),t.events.drag&&r.on("drag",function(n){a(n.target.getLatLng()),t.events.drag(n)}),t.events.dragend&&r.on("dragend",function(n){a(n.target.getLatLng()),t.events.dragend(n)})),t.$on("$destroy",function(){r.remove()}),t.$watch("latlng",function(t,n){angular.equals(t,n)||angular.equals(r.getLatLng(),t)||r.setLatLng([t.lat,t.lng])}),o.drawMarker(r)}}}angular.module("leaflet-angular").directive("markerLeaflet",t),t.$inject=[]}(),function(){function t(){function t(t){var n=[];for(i=0;i<t.length;i++){var e=t[i];n[i]=new L.LatLng(e.lat,e.lng)}return n}return{restrict:"E",scope:{latlngs:"=",contentPopup:"=",options:"="},require:"^leafletMap",link:function(n,e,o,a){var r=new L.Polyline(t(n.latlngs),n.options);n.contentPopup&&r.bindPopup(n.contentPopup),n.$on("$destroy",function(){r.remove()}),n.$watch("latlngs",function(t,n){angular.equals(t,n)||(r.setLatLngs(t),a.fitBoundsLayer(r))},!0),a.drawPolyline(r)}}}angular.module("leaflet-angular").directive("polylineLeaflet",t),t.$inject=[]}(),angular.module("leaflet-angular").constant("DefaultConstants",function(){var t={};return t.urlTemplate="//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",t.options={attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},t.zoomControl=!1,t.posControlZoom="topleft",t.minZoom=2,t.zoom=3,t.center={lat:0,lng:0},t}());