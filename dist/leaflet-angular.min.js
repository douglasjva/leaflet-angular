!function(){angular.module("leaflet-angular",[])}(),function(){function e(e,t){return{restrict:"E",replace:!0,transclude:!0,scope:{id:"@",center:"=",tileLayer:"="},controller:function(){var t=this;deferred=e.defer(),t.getMap=function(){return deferred.promise},t.initMap=function(e){deferred.resolve(e)},t.drawMarker=function(e){t.getMap().then(function(t){t.addLayer(e)})},t.drawPolyline=function(e){t.getMap().then(function(t){t.addLayer(e),t.fitBounds(e.getBounds())})}},controllerAs:"leafletMap",template:"<div><div ng-transclude></div></div>",link:function(e,n,a,r){var o=L.latLng(t.center.lat,t.center.lng),l=t.minZoom,i=t.zoom,u=t.urlTemplate,c=t.options;e.tileLayer&&e.tileLayer.urlTemplate&&(u=e.tileLayer.urlTemplate,c=e.tileLayer.options),e.center&&e.center.lat&&e.center.lng&&(o=L.latLng(e.center.lat,e.center.lng)),e.center&&e.center.zoom&&(i=e.center.zoom),e.center&&e.center.minZoom&&(l=e.center.minZoom);var g=new L.Map(n[0],{center:o,minZoom:l,zoom:i,layers:[L.tileLayer(u,c)]});r.initMap(g)}}}angular.module("leaflet-angular").directive("leafletMap",e),e.$inject=["$q","DefaultConstants"]}(),function(){function e(){return{restrict:"E",scope:{latlng:"=",contentPopup:"=",options:"=",events:"="},require:"^leafletMap",link:function(e,t,n,a){function r(t){e.$apply(function(){e.latlng=t})}var o=L.marker([e.latlng.lat,e.latlng.lng],e.options);e.contentPopup&&o.bindPopup(e.contentPopup),e.options.draggable&&(e.events.dragstart&&o.on("dragstart",function(t){r(t.target.getLatLng()),e.events.dragstart(t)}),e.events.drag&&o.on("drag",function(t){r(t.target.getLatLng()),e.events.drag(t)}),e.events.dragend&&o.on("dragend",function(t){r(t.target.getLatLng()),e.events.dragend(t)})),e.$on("$destroy",function(){o.remove()}),e.$watch("latlng",function(e,t){angular.equals(e,t)||angular.equals(o.getLatLng(),e)||o.setLatLng([e.lat,e.lng])}),a.drawMarker(o)}}}angular.module("leaflet-angular").directive("markerLeaflet",e),e.$inject=[]}(),function(){function e(){function e(e){var t=[];for(i=0;i<e.length;i++){var n=e[i];t[i]=new L.LatLng(n.lat,n.lng)}return t}return{restrict:"E",scope:{latlngs:"=",contentPopup:"=",options:"="},require:"^leafletMap",link:function(t,n,a,r){var o=new L.Polyline(e(t.latlngs),t.options);t.contentPopup&&o.bindPopup(t.contentPopup),t.$on("$destroy",function(){o.remove()}),t.$watch("latlngs",function(e,t){angular.equals(e,t)||o.setLatLngs(e)},!0),r.drawPolyline(o)}}}angular.module("leaflet-angular").directive("polylineLeaflet",e),e.$inject=[]}(),angular.module("leaflet-angular").constant("DefaultConstants",function(){var e={};return e.urlTemplate="//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",e.options={attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},e.minZoom=2,e.zoom=3,e.center={lat:0,lng:0},e}());